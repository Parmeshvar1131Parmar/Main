<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Application Form</title>
  </head>
  <style>
    th,
    td {
      padding-top: 10px;
      padding-bottom: 20px;
      padding-left: 50px;
      padding-right: 50px;
    }
    body {
      margin: auto;
      background-color: aliceblue;
      padding-left: 20px;
      padding-right: 20px;
    }
    fieldset {
      border: 2px solid black;
    }

    #job_application {
      text-align: center;
    }
    .flex {
      display: flex;
      align-items: center;
      justify-content: space-around;
    }
    .required,
    .date_check,
    .err_msg,
    #email-err,
    #mobile-number-err,
    #last-name-err,
    #first-name-err,
    #designation-err,
    #address1-err,
    #city-err,
    #gender-err,
    #relation-err,
    #dob_err,
    #zipcode-err,
    #hindi_err,
    #english_err,
    #gujrati_err {
      color: red;
    }
    .addremove {
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
      padding-right: 220px;
    }
    .addremove input,
    p {
      padding: 8px;
      margin: 4px;
    }
    #addrow1 {
      background-color: green;
      border: 2px solid black;
      border-radius: 4px;
      cursor: pointer;
    }
    #removerow1 {
      background-color: red;
      border: 2px solid black;
      border-radius: 4px;
      cursor: pointer;
    }
    .red {
      color: red;
    }
    .btn {
      padding: 12px;
      color: green;
      cursor: pointer;
    }
    .nav,
    .table {
      margin-top: 20px;
    }
    fieldset {
      height: 500px;
    }
    #submit {
      margin: 18px;
      padding: 8px;
      background-color: green;
      border: 2px solid black;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>

  <body>
    <h2 id="job_application">Job Application Form</h2>

    <form
      id="job_application"
      name="job_application"
      method="post"
      action="/ajax/id"
      target="_blank"
      autocomplete="on"
      onsubmit="return ValidateForm()"
    >
      <input type="hidden" value="<%=id%>" name="id" id="userid" />

      <fieldset class="form_section">
        <legend>Basic Detail</legend>
        <table>
          <div class="form-field">
            <tr>
              <td>
                First Name<span class="required" value>*</span>
                <input
                  class="form_control"
                  type="text"
                  name="first_name"
                  id="firstname"
                  placeholder="Enter Your Good Name"
                />
                <span class="err_msg"></span>
                <div id="first-name-err"></div>
              </td>
              <td>
                Last Name<span class="required">*</span>
                <input
                  type="text"
                  name="last_name"
                  id="lastname"
                  placeholder="Enter Your Last Name"
                />

                <span class="err_msg"></span>

                <div id="last-name-err"></div>
              </td>
            </tr>
          </div>
          <tr>
            <td>
              Designation<span class="required">*</span>
              <input
                type="text"
                name="_designation"
                id="designation"
                placeholder="Your Designation"
              />
              <span id="designation-err"></span>
            </td>
            <td>
              Address 1<span class="required">*</span>
              <input
                type="text"
                name="_address1"
                id="address1"
                placeholder="Permenent Address"
              />
              <span id="address1-err"></span>
            </td>
          </tr>
          <tr>
            <td>
              Email<span class="required">*</span>
              <input
                type="text"
                name="_email"
                id="email"
                placeholder="Your Email"
              />
              <span class="err_msg"></span>
              <div id="email-err"></div>
            </td>
            <td>
              Address 2
              <input
                type="text"
                name="_address2"
                id="address2"
                placeholder=" Temperory Address"
              />

              <span class="err_msg"></span>
            </td>
          </tr>
          <tr>
            <td>
              Phone Number<span class="required">*</span>
              <input
                type="text"
                name="_phonenumber"
                id="phonenumber"
                placeholder="Enter your phonenumber"
              />
              <span class="err_msg"></span>
              <div id="mobile-number-err"></div>
            </td>
            <td>
              City<span class="required">*</span>
              <input
                type="text"
                name="_city"
                id="city"
                placeholder="Enter your City"
              />

              <span id="city-err"></span>
            </td>
          </tr>
          <tr>
            <td>
              <label for="gender">Gender<span class="required">*</span></label>
              <input type="radio" value="male" name="_gender" id="male" />
              <label for="Male">Male</label>
              <input type="radio" value="female" name="_gender" id="female" />
              <label for="Female">Female</label>

              <div id="gender-err"></div>
            </td>

            <td>
              <label for="state">State</label>
              <select name="_state" id="state">
                <option value="select state">Select</option>
                <option value="Gujrat">Gujrat</option>
                <option value="Delhi">Delhi</option>
                <option value="Maharastra">Maharastra</option>
                <option value="Goa">Goa</option>
                <option value="Karnataka">Karnataka</option>
              </select>
              <span class="err_msg"></span>
            </td>
          </tr>
          <tr>
            <td>
              <label for="realtionship_status"
                >RelationShip Status<span class="required">*</span></label
              >
              <select name="realtionship_status" id="realtionship">
                <option value="0">Select</option>
                <option value="Married">Married</option>
                <option value="Unmarried">Unmarried</option>
              </select>
              <span id="relation-err"></span>
            </td>

            <td>
              Date of Birth<span class="required">*</span>
              <input
                type="text"
                name="_dob"
                id="dob"
                placeholder="yyyy-mm-yy"
              />
              <span id="dob_err"></span>
            </td>
          </tr>
          <tr>
            <td>
              Zip Code<span class="required">*</span>

              <input type="text" name="_zipcode" id="zipcode" />
              <span id="zipcode-err"></span>
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Education Detail</legend>
        <table>
          <label for="SSC Result">SSC Result</label>
          <tr>
            <td>
              Name Of Board<span class="required">*</span>

              <input
                type="text"
                name="nameofboard"
                id="sscnameofboard"
                placeholder="Enter your name of board"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Passing Year<span class="required">*</span>
              <input
                type="text"
                name="passingyear"
                id="sscpassingyear"
                placeholder="Enter your passing year"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Percentage<span class="required">*</span>
              <input
                type="text"
                name="percentage"
                id="sscpercentage"
                placeholder="Enter your percentage"
              />
              <span class="allfield_req red"></span>
            </td>
          </tr>
        </table>
        <hr />
        <table>
          <label for="HSC Result">HSC Result</label>
          <tr>
            <td>
              Name Of Board<span class="required">*</span>
              <input
                type="text"
                name="nameofboard"
                id="hscboard"
                placeholder="Enter your name of board"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Passing Year<span class="required">*</span>
              <input
                type="text"
                name="passingyear"
                id="hscpassingyear"
                placeholder="Enter your passing year"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Percentage<span class="required">*</span>
              <input
                type="text"
                name="percentage"
                id="hscpercentage"
                placeholder="Enter your percentage"
              />
              <span class="allfield_req red"></span>
            </td>
          </tr>
        </table>
        <hr />
        <table>
          <label for="Bechelor Degree">Bechelor Degree</label>
          <tr>
            <td>
              Course Name<span class="required">*</span>
              <input
                type="text"
                name="nameofboard"
                id="degreecoursename"
                placeholder="Enter your course name"
              />
              <span class="allfield_req red"></span>
            </td>

            <td>
              Passing Year<span class="required">*</span>
              <input
                type="text"
                name="passingyear"
                id="degreepassingyear"
                placeholder="Enter your passing year"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Percentage<span class="required">*</span>
              <input
                type="text"
                name="percentage"
                id="degreepercentage"
                placeholder="Enter your percentage"
              />
              <span class="allfield_req red"></span>
            </td>
            <td></td>
          </tr>
        </table>
        <hr />
        <table>
          <label for="Master Degree">Master Degree</label>
          <tr>
            <td>
              Course Name
              <input
                type="text"
                name="nameofboard"
                id="mastercoursename"
                placeholder="Enter your course name for master"
              />
              <span class="allfield_req red"></span>
            </td>

            <td>
              Passing Year
              <input
                type="text"
                name="passingyear"
                id="masterpassingyear"
                placeholder="Enter your passing year"
              />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Percentage
              <input
                type="text"
                name="percentage"
                id="masterpercentage"
                placeholder="Enter your percentage"
              />
              <span class="allfield_req red"></span>
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Work Experience</legend>

        <table id="company_table">
          <tr>
            <td>
              Company Name
              <input type="text" name="companyname" id="companyname_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Designation
              <input type="text" name="designations" id="designation_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              From
              <input type="text" name="fromdate" id="fromdate_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              TO
              <input type="text" name="todate" id="todate_1" />
              <span class="allfield_req red"></span>
            </td>
          </tr>
          <tr>
            <td>
              Company Name
              <input type="text" name="companyname" id="companyname_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Designation
              <input type="text" name="designations" id="designation_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              From
              <input type="text" name="fromdate" id="fromdate_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              TO
              <input type="text" name="todate" id="todate_1" />
              <span class="allfield_req red"></span>
            </td>
          </tr>

          <tr>
            <td>
              Company Name
              <input type="text" name="companyname" id="companyname_1" />

              <span class="allfield_req red"></span>
            </td>
            <td>
              Designation
              <input type="text" name="designations" id="designation_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              From
              <input type="text" name="fromdate" id="fromdate_1" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              TO
              <input type="text" name="todate" id="todate_1" />
              <span class="allfield_req red"></span>
            </td>
            <div class="addremove">
              <p>Add Experience</p>
              <input
                type="button"
                id="addrow1"
                value="+"
                onclick="addrow()"
                disabled
              />
              <input
                type="button"
                id="removerow1"
                value="-"
                onclick="removerow()"
                disabled
              />
            </div>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Language Known</legend>
        <table>
          <tr>
            <td>
              <span id="hindi_err"></span>
              <input
                type="checkbox"
                name="languages"
                id="hindi_lang"
                value="hindi"
              />
              Hindi :
            </td>
            <td>
              <input
                type="checkbox"
                name="hindi"
                id="hindi_read"
                value="read"
              />Read
            </td>
            <td>
              <input
                type="checkbox"
                name="hindi"
                id="hindi_write"
                value="write"
              />
              Write
            </td>
            <td>
              <input
                type="checkbox"
                name="hindi"
                id="hindi_speak"
                value="speak"
              />
              Speak
            </td>
          </tr>
          <tr>
            <td>
              <span id="english_err"></span>
              <input
                type="checkbox"
                name="languages"
                id="english_lang"
                value="english"
              />
              English :
            </td>
            <td>
              <input
                type="checkbox"
                name="english"
                id="english_read"
                value="read"
              />
              Read
            </td>
            <td>
              <input
                type="checkbox"
                name="english"
                id="english_write"
                value="write"
              />
              Write
            </td>
            <td>
              <input
                type="checkbox"
                name="english"
                id="english_speak"
                value="speak"
              />
              Speak
            </td>
          </tr>
          <tr>
            <td>
              <span id="gujrati_err"></span>
              <input
                type="checkbox"
                name="languages"
                id="gujrati_lang"
                value="gujrati"
              />
              Gujarati :
            </td>
            <td>
              <input
                type="checkbox"
                name="gujrati"
                id="gujrati_read"
                value="read"
              />
              Read
            </td>
            <td>
              <input
                type="checkbox"
                name="gujrati"
                id="gujrati_write"
                value="write"
              />
              Write
            </td>
            <td>
              <input
                type="checkbox"
                name="gujrati"
                id="gujrati_speak"
                value="speak"
              />
              Speak
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Technologies You Know</legend>
        <table>
          <tr>
            <td>
              <input
                type="checkbox"
                name="technology"
                id="phplable"
                value="php"
              />
              PHP
              <span id="errorphp" class="red"></span>
            </td>
            <td>
              <input type="radio" name="php" id="phpbeginer" value="beginer" />
              Beginer
            </td>
            <td>
              <input
                type="radio"
                name="php"
                id="phpmideator"
                value="mideator"
              />
              Mideator
            </td>
            <td>
              <input type="radio" name="php" id="phpexpert" value="expert" />
              Expert
            </td>
          </tr>
          <tr>
            <td>
              <input
                type="checkbox"
                name="technology"
                id="mysqllable"
                value="mysql"
              />
              Mysql
              <span id="errormysql" class="red"></span>
            </td>
            <td>
              <input type="radio" name="mysql" id="mysql" value="beginer" />
              Beginer
            </td>
            <td>
              <input type="radio" name="mysql" id="mysql" value="mideator" />
              Mideator
            </td>
            <td>
              <input type="radio" name="mysql" id="mysql" value="expert" />
              Expert
            </td>
          </tr>
          <tr>
            <td>
              <input
                type="checkbox"
                name="technology"
                id="laravellable"
                value="laravel"
              />
              Laravel
              <span id="errorlaravel" class="red"></span>
            </td>
            <td>
              <input type="radio" name="laravel" id="laravel" value="beginer" />
              Beginer
            </td>
            <td>
              <input
                type="radio"
                name="laravel"
                id="laravel"
                value="mideator"
              />
              Mideator
            </td>
            <td>
              <input type="radio" name="laravel" id="laravel" value="expert" />
              Expert
            </td>
          </tr>
          <tr>
            <td>
              <input
                type="checkbox"
                name="technology"
                id="oraclelable"
                value="oracle"
              />
              Oarcle
              <span id="errororacle" class="red"></span>
            </td>
            <td>
              <input type="radio" name="oracle" id="oracle" value="beginer" />
              Beginer
            </td>
            <td>
              <input type="radio" name="oracle" id="oracle" value="mideator" />
              Mideator
            </td>
            <td>
              <input type="radio" name="oracle" id="oracle" value="expert" />
              Expert
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Reference Contact</legend>
        <table>
          <tr>
            <td>
              Name<span class="required">*</span>
              <input type="text" name="contactname" id="contactname" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Contact Number<span class="required">*</span>
              <input type="text" name="contactnumber" id="contactnumber" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Relation<span class="required">*</span>
              <input type="text" name="contactrealtion" id="contactrealtion" />
              <span class="allfield_req red"></span>
            </td>
          </tr>
          <tr>
            <td>
              Name
              <input type="text" name="contactname" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Contact Number
              <input type="text" name="contactnumber" id="contactnumber" />
              <span class="allfield_req red"></span>
            </td>
            <td>
              Relation
              <input type="text" name="contactrealtion" id="contactrealtion" />
              <span class="allfield_req red"></span>
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="form_section">
        <legend>Preferances</legend>
        <table>
          <tr>
            <td>
              <label for="location"
                >Preferd location<span class="required">*</span></label
              >
              <span id="location_err" class="red"></span>
              <select name="location" id="location" multiple>
                <option value="0">select</option>
                <option value="Surat">Surat</option>
                <option value="Ahmedabad">Ahmedabad</option>
                <option value="Baroda">Baroda</option>
              </select>
            </td>
            <td>
              Notice Period
              <input type="text" name="noticeperiod" id="noticeperiod" />
            </td>
            <td>
              <label for="department">
                Department<span class="required">*</span></label
              >
              <select name="department" id="department">
                <option value="0" selected>select</option>
                <option value="Developmnet">Developmnet</option>
                <option value="design">Design</option>
                <option value="marketing">Marketing</option>
              </select>
              <span id="department_err" class="red"></span>
            </td>
          </tr>
          <tr>
            <td>
              Expected CTC<span class="required">*</span>
              <input type="text" name="expectedctc" id="expectedctc" />
              <span id="expectedctc_err" class="red"></span>
            </td>
            <td>
              Current CTC

              <input type="text" name="currentctc" id="currentctc" />
            </td>
          </tr>
        </table>
      </fieldset>

      <div class="nav">
        <input
          type="button"
          value="< Prev"
          class="btn"
          id="prev"
          onclick="prevBtn()"
        />
        <input
          type="button"
          value="Next > "
          class="btn"
          id="next"
          onclick="nextBtn()"
        />
      </div>

      <input
        type="button"
        name="submit"
        id="submit"
        value="Submit"
        onclick="ajax_post()"
      />
    </form>
  </body>

  <script>
    // content
    let container = document.querySelectorAll(".form_section");
    let btn = document.querySelectorAll(".btn");
    // submit
    let submit = document.getElementById("submit");
    submit.style.display = "none";

    let i = 0;
    if (i == 0) {
      container.forEach((element) => {
        element.style.display = "none";
      });
      container[i].style.display = "block";
    }
    // functions
    function showTable(i) {
      container.forEach((element) => {
        element.style.display = "none";
      });
      container[i].style.display = "block";
    }
    let prebtn = document.getElementById("prev");
    prebtn.style.display = "none";
    function prevBtn() {
      if (i > 0) {
        i--;
        submit.style.display = "none";
      }
      showTable(i);
      container[i].style.display = "block";
    }
    function nextBtn() {
      switch (i) {
        case 0:
          if (!basicValid()) {
            return false;
          }
          break;
        case 1:
          if (!eduValid()) {
            return false;
          }
          break;
        case 2:
          if (!experienceValid()) {
            return false;
          }
          break;
        case 3:
          if (!languageValid()) {
            return false;
          }
          break;
        case 4:
          if (!techValid()) {
            return false;
          }
          break;
        case 5:
          if (!referenceValid()) {
            return false;
          }
          break;
        case 6:
          if (!preferenceValid()) {
            return false;
          }
          break;
        default:
          break;
      }
      if (i < container.length - 1) {
        i++;
        prebtn.style.display = "inline";
      }
      if (i == container.length - 1) {
        submit.style.display = "inline";
      }
      showTable(i);
      container[i].style.display = "block";
    }
    let form = document.forms["job_application"];

    async function ajax_fetch() {
      let id = document.getElementById("userid").value;

      if (id) {
      }
      let resultfetch = await fetch("/ajax/data/?id=" + id);
      let resultjson = await resultfetch.json();

      //  basic details
      form.id.value = resultjson.result[0].candidate_id;
      form.first_name.value = resultjson.result[0].firstname;
      form.last_name.value = resultjson.result[0].lastname;
      form._designation.value = resultjson.result[0].designation;
      form._address1.value = resultjson.result[0].address1;
      form._email.value = resultjson.result[0].email;
      form._address2.value = resultjson.result[0].address2;
      form._phonenumber.value = resultjson.result[0].phonenumber;
      form._city.value = resultjson.result[0].city;
      form._gender.value = resultjson.result[0].gender;
      form._state.value = resultjson.result[0].state;
      form.realtionship_status.value = resultjson.result[0].relationship_status;
      form._dob.value = resultjson.result[0].dateofbirth;
      form._zipcode.value = resultjson.result[0].zipcode;

      for (let i = 0; i < form.nameofboard.length; i++) {
        form.nameofboard[i].value = resultjson.result2[i].coursename;
        form.passingyear[i].value = resultjson.result2[i].passingyear;
        form.percentage[i].value = resultjson.result2[i].percentage;
      }

      for (let i = 0; i < form.companyname.length; i++) {
        form.companyname[i].value = resultjson.result3[i].company_name;
        form.designations[i].value = resultjson.result3[i].designation;
        form.fromdate[i].value = resultjson.result3[i].from_date;
        form.todate[i].value = resultjson.result3[i].to_date;
      }

      for (let i = 0; i < resultjson.result4.length; i++) {
        let a = resultjson.result4[i].language_name;
        if (resultjson.result4[i].language_name) {
          form.languages[i].checked = true;
          if (resultjson.result4[i].lang_check.includes("read")) {
            form[a][0].checked = true;
          }
          if (resultjson.result4[i].lang_check.includes("write")) {
            form[a][1].checked = true;
          }
          if (resultjson.result4[i].lang_check.includes("speak")) {
            form[a][2].checked = true;
          }
        }
      }

      // if(resultjson.result5){
      for (let i = 0; i < resultjson.result5.length; i++) {
        let a = resultjson.result5[i].language_name;
        if (resultjson.result5[i].language_name) {
          form.technology[i].checked = true;
          if (resultjson.result5[i].ability.includes("beginer")) {
            form[a][0].checked = true;
          }
          if (resultjson.result5[i].ability.includes("mideator")) {
            form[a][1].checked = true;
          }
          if (resultjson.result5[i].ability.includes("expert")) {
            form[a][2].checked = true;
          }
        }
      }
      // }

      for (let i = 0; i < form.contactname.length; i++) {
        form.contactname[i].value = resultjson.result6[i].contact_name;
        form.contactnumber[i].value = resultjson.result6[i].contact_number;
        form.contactrealtion[i].value = resultjson.result6[i].contact_relation;
      }

      form.location.value = resultjson.result7[0].prefered_location;
      form.noticeperiod.value = resultjson.result7[0].notice_period;
      form.department.value = resultjson.result7[0].department;
      form.expectedctc.value = resultjson.result7[0].expected_ctc;
      form.currentctc.value = resultjson.result7[0].current_ctc;
    }
    ajax_fetch();

    async function ajax_post() {
      const form = document.getElementById("job_application");
      const obj = new URLSearchParams(
        new FormData(document.forms["job_application"])
      );
      let result1 = await fetch("http://localhost:8000/ajax", {
        headers: {
          "content-Type": "application/x-www-form-urlencoded",
        },
        method: "POST",
        body: obj,
      });
      window.location.replace("http://localhost:8000/home");
    }

    function addrow() {
      let table = document.getElementById("company_table");
      let row = document.createElement("tr");
      let result = `
           <td>
              Company Name
              <input type="text" name="companyname" id="companyname_1" />
              <span class="allfield_req"></span>
            </td>
            <td>
              Designation
              <input type="text" name="designations" id="designation_1" />
              <span class="allfield_req"></span>
            </td>
            <td>
              From <input type="text" name="fromdate" id="fromdate_1" />
              <span class="allfield_req"></span>
            </td>
            <td>
              TO <input type="text" name="todate" id="todate_1" />
              <span class="allfield_req"></span>
            </td>
      `;
      row.innerHTML = result;
      table.appendChild(row);
    }

    function removerow() {
      let table = document.getElementById("company_table");
      let row = table.getElementsByTagName("tr");
      if (row.length <= 1) {
        return;
      }
      let tr = table.lastElementChild;
      table.removeChild(tr);
    }

    const firstname = document.querySelector("#firstname");
    const lastname = document.querySelector("#lastname");
    const emailval = document.querySelector("#email");
    const mobileNumber = document.querySelector("#phonenumber");
    const designation = document.querySelector("#designation");
    // const gender = document.getElementsByName("gender");
    const dob = document.querySelector("#dob");
    const address1 = document.querySelector("#address1");
    const address2 = document.querySelector("#address2");
    const city = document.querySelector("#city");
    const relation = document.querySelector("#realtionship");
    const zipcode = document.querySelector("#zipcode");
    // const form_control = document.querySelector(".form_control");
    // form.addEventListener("submit", function (e) {
    //   // prevent the form from submitting
    //   e.preventDefault();
    // });

    let firstnameValidation = function () {
      firstnameValue = firstname.value.trim();

      firstNameErr = document.getElementById("first-name-err");
      if (firstnameValue == "") {
        firstNameErr.innerHTML = "First Name is required";
        firstname.focus();
      } else {
        firstNameErr.innerHTML = "";
        return true;
      }
    };

    firstname.oninput = function () {
      firstnameValidation();
    };

    let lastnameValidation = function () {
      lastnameValue = lastname.value.trim();
      validLastName = /^[A-Za-z]+$/;
      lastNameErr = document.getElementById("last-name-err");
      if (lastnameValue == "") {
        lastNameErr.innerHTML = "Last Name is required";
        lastname.focus();
      } else if (!validLastName.test(lastnameValue)) {
        lastNameErr.innerHTML =
          "Last Name must be only string without white spaces";
      } else {
        lastNameErr.innerHTML = "";
        return true;
      }
    };

    lastname.oninput = function () {
      lastnameValidation();
    };

    let designationValidation = function () {
      let designationVal = designation.value.trim();
      let designationErr = document.getElementById("designation-err");

      if (designationVal == "" || designationVal == null) {
        designationErr.innerHTML = "Designation is required";
        designation.focus();
      } else {
        designationErr.innerHTML = "";
        return true;
      }
    };

    designation.oninput = function () {
      designationValidation();
    };

    let address1Validation = function () {
      let address1Val = address1.value.trim();
      let address1Err = document.getElementById("address1-err");
      if (address1Val == "" || address1Val == null) {
        address1Err.innerHTML = "Address1 is required";
        address1.focus();
      } else {
        address1Err.innerHTML = "";
        return true;
      }
    };

    address1.oninput = function () {
      address1Validation();
    };

    let cityValidation = function () {
      let cityVal = city.value.trim();
      let cityErr = document.getElementById("city-err");
      if (cityVal == "" || cityVal == null) {
        cityErr.innerHTML = "City is required";
        city.focus();
      } else {
        cityErr.innerHTML = "";
        return true;
      }
    };
    city.oninput = function () {
      cityValidation();
    };

    let genderValidate = function () {
      let genders = document.getElementsByName("_gender");

      genderErr = document.getElementById("gender-err");
      if (genders[0].checked == true) {
        genderErr.innerHTML = " you have selected male";
        genderErr.style.color = "green";
      } else if (genders[1].checked == true) {
        genderErr.innerHTML = "you have selected female";
        genderErr.style.color = "green";
      } else {
        genderErr.innerHTML = "gender is required";
        genderErr.focus();
      }
      return true;
    };

    let emailValidation = function () {
      emailAddressValue = emailval.value.trim();
      validEmailAddress = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      emailAddressErr = document.getElementById("email-err");
      if (emailAddressValue == "") {
        emailAddressErr.innerHTML = "Email Address is required";
        emailval.focus();
      } else if (!validEmailAddress.test(emailAddressValue)) {
        emailAddressErr.innerHTML =
          "Email Addre must be in valid formate with @ symbol";
      } else {
        emailAddressErr.innerHTML = "";
        return true;
      }
    };
    emailval.oninput = function () {
      emailValidation();
    };

    let mobileNumberValidation = function () {
      mobileNumberValue = mobileNumber.value.trim();
      validMobileNumber = /^[0-9]*$/;
      mobileNumberErr = document.getElementById("mobile-number-err");
      if (mobileNumberValue == "") {
        mobileNumberErr.innerHTML = "Mobile Number is required";
        mobileNumber.focus();
      } else if (!validMobileNumber.test(mobileNumberValue)) {
        mobileNumberErr.innerHTML = "Mobile Number must be a number";
      } else if (mobileNumberValue.length != 10) {
        mobileNumberErr.innerHTML = "Mobile Number must have 10 digits";
      } else {
        mobileNumberErr.innerHTML = "";
        return true;
      }
    };
    mobileNumber.oninput = function () {
      mobileNumberValidation();
    };

    let relationValidation = function () {
      let realtionVal = relation.value;
      let relationErr = document.getElementById("relation-err");
      if (realtionVal == 0) {
        relationErr.innerHTML = "please select one option";
        relation.focus();
      } else {
        relationErr.innerHTML = "";
        return true;
      }
    };
    relation.oninput = function () {
      relationValidation();
    };

    let dobValidation = function () {
      let dobval = dob.value;
      let dobErr = document.getElementById("dob_err");
      let pattern = /^([0-9]{4})-([0-9]{2})-([0-9]{2})$/;
      // let pattern = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
      if (dobval == null || dobval == "" || !pattern.test(dobval)) {
        dobErr.innerHTML = "Invalid format of date of birth ";
        dob.focus();
        return false;
      } else {
        dobErr.innerHTML = " ";
        return true;
      }
    };

    dob.oninput = function () {
      dobValidation();
    };

    let zipcodeValidation = function () {
      let zipcodeVal = zipcode.value;
      let zipcodeErr = document.getElementById("zipcode-err");
      if (zipcodeVal == "" || zipcodeVal == null) {
        zipcodeErr.innerHTML = "zipcode is required";
        zipcode.focus();
      } else {
        zipcodeErr.innerHTML = "";
        return true;
      }
    };
    zipcode.oninput = function () {
      zipcodeValidation();
    };
    function basicValid() {
      lastnameValidation();
      firstnameValidation();
      designationValidation();
      address1Validation();
      cityValidation();
      genderValidate();
      emailValidation();
      mobileNumberValidation();
      relationValidation();
      dobValidation();
      zipcodeValidation();
      if (
        firstnameValidation() == true &&
        lastnameValidation() == true &&
        designationValidation() == true &&
        emailValidation() == true &&
        mobileNumberValidation() == true &&
        address1Validation() == true &&
        cityValidation() == true &&
        genderValidate() == true &&
        relationValidation() == true &&
        dobValidation() == true &&
        zipcodeValidation() == true
      ) {
        return true;
      } else {
        return false;
      }
    }

    // education
    function eduValid() {
      let alledu = [
        ["sscnameofboard", "sscpassingyear", "sscpercentage"],
        ["hscboard", "hscpassingyear", "hscpercentage"],
        ["degreecoursename", "degreepassingyear", "degreepercentage"],
        ["mastercoursename", "masterpassingyear", "masterpercentage"],
      ];
      for (let i = 0; i < alledu.length; i++) {
        let a = document.getElementById(alledu[i][0]);
        let b = document.getElementById(alledu[i][1]);
        let c = document.getElementById(alledu[i][2]);

        if (
          (a.value === "" || b.value === "" || c.value === "") &&
          (a.value != "" || b.value != "" || c.value != "")
        ) {
          if (a.value == "" || a.value == null) {
            a.focus();
            return false;
          }
          if (b.value == "" || b.value == null) {
            b.focus();
            return false;
          }
          if (c.value == "" || c.value == null) {
            c.focus("please enter data");
            return false;
          }
        }
      }
      return true;
    }

    function languageValid() {
      // hindi
      var checklang = document.querySelector('input[id="hindi_lang"]:checked');

      var checkread = document.querySelector('input[id="hindi_read"]:checked');
      var checkwrite = document.querySelector(
        'input[id="hindi_write"]:checked'
      );

      var checkspeak = document.querySelector(
        'input[id="hindi_speak"]:checked'
      );
      let hindi_err = document.getElementById("hindi_err");

      if (checkread && !checklang) {
        hindi_err.innerHTML = "select valid input";
        return false;
      }
      if (checkwrite && !checklang) {
        hindi_err.innerHTML = "select valid input";
        return false;
      }
      if (checkspeak && !checklang) {
        hindi_err.innerHTML = "select valid input";
        return false;
      }
      hindi_err.innerHTML = "";

      // english
      var checklang = document.querySelector(
        'input[id="english_lang"]:checked'
      );

      var checkread = document.querySelector(
        'input[id="english_read"]:checked'
      );
      var checkwrite = document.querySelector(
        'input[id="english_write"]:checked'
      );

      var checkspeak = document.querySelector(
        'input[id="english_speak"]:checked'
      );
      let english_err = document.getElementById("english_err");

      if (checkread && !checklang) {
        english_err.innerHTML = "select valid input";
        return false;
      }
      if (checkwrite && !checklang) {
        english_err.innerHTML = "select valid input";
        return false;
      }
      if (checkspeak && !checklang) {
        english_err.innerHTML = "select valid input";
        return false;
      }
      english_err.innerHTML = "";

      // gujrati
      var checklang = document.querySelector(
        'input[id="gujrati_lang"]:checked'
      );

      var checkread = document.querySelector(
        'input[id="gujrati_read"]:checked'
      );
      var checkwrite = document.querySelector(
        'input[id="gujrati_write"]:checked'
      );

      var checkspeak = document.querySelector(
        'input[id="gujrati_speak"]:checked'
      );
      let gujrati_err = document.getElementById("gujrati_err");

      if (checkread && !checklang) {
        gujrati_err.innerHTML = "select valid input";
        return false;
      }
      if (checkwrite && !checklang) {
        gujrati_err.innerHTML = "select valid input";
        return false;
      }
      if (checkspeak && !checklang) {
        gujrati_err.innerHTML = "select valid input";
        return false;
      }
      gujrati_err.innerHTML = "";
      return true;
    }

    function techValid() {
      // technologies
      let techarr = ["php", "mysql", "laravel", "oracle"];
      for (let i = 0; i < techarr.length; i++) {
        let techradio = document.querySelector(
          "input[name=" + techarr[i] + "]:checked"
        );
        let techcheck = document.querySelector(
          "input[id=" + techarr[i] + "lable]:checked"
        );

        if (techradio && !techcheck) {
          document.getElementById("error" + techarr[i]).innerHTML =
            "please select technoloy";
          document.getElementById(techarr[i] + "lable").focus();
          return false;
        }
        document.getElementById("error" + techarr[i]).innerHTML = " ";
      }
      return true;
    }

    function experienceValid() {
      // Compnay details

      let a = document.getElementsByName("companyname");
      let b = document.getElementsByName("designations");
      let c = document.getElementsByName("fromdate");
      let d = document.getElementsByName("todate");

      for (let i = 0; i < a.length; i++) {
        if (
          (a[i].value === "" ||
            b[i].value === "" ||
            c[i].value === "" ||
            d[i].value === "") &&
          (a[i].value != "" ||
            b[i].value != "" ||
            c[i].value != "" ||
            d[i].value != "")
        ) {
          if (a[i].value == "" || a[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            a[i].focus();
            return false;
          }
          if (b[i].value == "" || b[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            b[i].focus();
            return false;
          }
          if (c[i].value == "" || c[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            c[i].focus();
            return false;
          }
          if (d[i].value == "" || d[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            d[i].focus();
            return false;
          }
        }
        document.getElementsByClassName("allfield_req").innerHTML = "";
      }
      return true;
    }

    function referenceValid() {
      // referenceds valid
      let contactname = document.getElementsByName("contactname");
      let contactnumber = document.getElementsByName("contactnumber");
      let contactrealtion = document.getElementsByName("contactrealtion");

      for (let i = 0; i < contactname.length; i++) {
        if (
          (contactname[i].value === "" ||
            contactnumber[i].value === "" ||
            contactrealtion[i].value === "") &&
          (contactname[i].value != "" ||
            contactnumber[i].value != "" ||
            contactrealtion[i].value != "")
        ) {
          if (contactname[i].value == "" || contactname[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            contactname[i].focus();
            return false;
          }
          if (contactnumber[i].value == "" || contactnumber[i].value == null) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            contactnumber[i].focus();
            return false;
          }
          if (
            contactrealtion[i].value == "" ||
            contactrealtion[i].value == null
          ) {
            document.getElementsByClassName("allfield_req").innerHTML =
              "please fill this field";
            contactrealtion[i].focus();
            return false;
          }

          return false;
        }
      }
      return true;
    }

    function preferenceValid() {
      const preferedlocation = document.getElementById("location");
      let preferedlocationValidation = function () {
        let preferedlocationVal = preferedlocation.value;
        let preferedlocationErr = document.getElementById("location_err");
        if (preferedlocationVal == 0) {
          preferedlocationErr.innerHTML = "please select one option";
          preferedlocation.focus();
          return false;
        } else {
          preferedlocationErr.innerHTML = "";
          return true;
        }
      };
      preferedlocation.oninput = function () {
        preferedlocationValidation();
      };

      const department = document.getElementById("department");
      let departmentValidation = function () {
        let departmentVal = department.value;
        let departmentErr = document.getElementById("department_err");
        if (departmentVal == 0) {
          departmentErr.innerHTML = "please select one option";
          department.focus();
          return false;
        } else {
          departmentErr.innerHTML = "";
          return true;
        }
      };
      department.oninput = function () {
        departmentValidation();
      };

      const expectedctc = document.getElementById("expectedctc");

      let expectedctcValidation = function () {
        let expectedctcVal = expectedctc.value;

        let expectedctcErr = document.getElementById("expectedctc_err");
        if (
          expectedctcVal == null ||
          expectedctcVal == 0 ||
          isNaN(expectedctcVal)
        ) {
          expectedctcErr.innerHTML = "please enter valid input";
          expectedctc.focus();
          return false;
        } else {
          expectedctcErr.innerHTML = "";
          return true;
        }
      };
      expectedctc.oninput = function () {
        expectedctcValidation();
      };
      if (
        expectedctcValidation() == true &&
        preferedlocationValidation() == true &&
        departmentValidation() == true
      ) {
        return true;
      } else {
        return false;
      }
    }

    function ValidateForm() {
      basicValid();
      eduValid();
      languageValid();
      techValid();
      experienceValid();
      referenceValid();
      preferenceValid();
      if (
        basicValid() == true &&
        eduValid() == true &&
        languageValid() == true &&
        techValid() == true &&
        experienceValid() == true &&
        referenceValid() == true &&
        preferenceValid() == true
      ) {
        return true;
      } else {
        return false;
      }
    }
  </script>
</html>
